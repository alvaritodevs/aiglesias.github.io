<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√Ålvaro Iglesias ‚Äî Agentes de IA</title>
    <meta name="description"
        content="Desarrollador especializado en agentes de inteligencia artificial, automatizaci√≥n inteligente y soluciones con LLMs.">
    <link rel="stylesheet" href="styles.css">
    <script>document.documentElement.setAttribute('data-theme', localStorage.getItem('theme') || 'light');</script>
    <script src="https://challenges.cloudflare.com/turnstile/v0/api.js" async defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
</head>

<body>

    <nav class="navbar" id="navbar">
        <div class="container nav-content">
            <a href="index.html" class="nav-logo">alvaro.iglesias<span>.ai</span></a>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html" class="active">Inicio</a></li>
                <li><a href="proyectos.html">Proyectos</a></li>
                <li><a href="sobre-mi.html">Sobre M√≠</a></li>
                <li><a href="formaciones.html">Formaciones</a></li>
                <li><a href="contacto.html">Contacto</a></li>
            </ul>
            <button class="theme-toggle" id="themeToggle" aria-label="Cambiar tema">
                <span class="theme-icon sun">‚òÄÔ∏è</span>
                <span class="theme-icon moon">üåô</span>
            </button>
            <button class="nav-toggle" id="navToggle" aria-label="Men√∫"><span></span><span></span><span></span></button>
        </div>
    </nav>

    <!-- Hero -->
    <section class="hero">
        <canvas id="heroCanvas" class="hero-canvas"></canvas>
        <div class="container">
            <div class="hero-content">
                <span class="hero-tag">Desarrollo de Agentes Aut√≥nomos</span>
                <h1>Te ahorro <span class="glitch-word" id="glitchWord1">tiempo</span>,<span class="line-break dim">
                        desarrollando <span class="glitch-word" id="glitchWord2">agentes</span> que <span
                            class="glitch-word" id="glitchWord3">trabajar√°n</span> para ti.</span></h1>
                <p class="hero-description">
                    Arquitecto de soluciones con agentes de IA, sistemas RAG y automatizaci√≥n avanzada.
                    Dise√±o infraestructura inteligente para empresas que necesitan precisi√≥n y escala.
                </p>
                <div class="hero-cta">
                    <a href="proyectos.html" class="btn btn-primary">Ver Proyectos</a>
                    <a href="contacto.html" class="btn btn-ghost">Contactar ‚Üí</a>
                </div>
            </div>
        </div>
    </section>

    <!-- Services Carousel -->
    <section class="services-carousel" id="servicesCarousel">
        <div class="services-bg"></div>
        <div class="container">
            <div class="services-layout">
                <!-- Left: Text content -->
                <div class="services-text">
                    <div class="services-slides">
                        <div class="service-slide active" data-index="0">
                            <span class="service-number">01</span>
                            <span class="service-icon">üéôÔ∏è</span>
                            <h2 class="service-title">Agentes de Voz</h2>
                            <p class="service-desc">Asistentes conversacionales con IA que atienden llamadas, cualifican
                                leads y gestionan reservas las 24 horas, los 7 d√≠as de la semana.</p>
                            <div class="service-tags">
                                <span class="service-tag">ElevenLabs</span>
                                <span class="service-tag">Twilio</span>
                                <span class="service-tag">GPT-4</span>
                            </div>
                        </div>
                        <div class="service-slide" data-index="1">
                            <span class="service-number">02</span>
                            <span class="service-icon">üí¨</span>
                            <h2 class="service-title">Chatbots</h2>
                            <p class="service-desc">Chatbots inteligentes integrados en WhatsApp, Telegram y web que
                                resuelven dudas, cualifican clientes y cierran ventas por ti.</p>
                            <div class="service-tags">
                                <span class="service-tag">WhatsApp API</span>
                                <span class="service-tag">LangChain</span>
                                <span class="service-tag">RAG</span>
                            </div>
                        </div>
                        <div class="service-slide" data-index="2">
                            <span class="service-number">03</span>
                            <span class="service-icon">‚ö°</span>
                            <h2 class="service-title">Sistemas Inteligentes</h2>
                            <p class="service-desc">Automatizaciones con RAG, APIs y flujos de trabajo que eliminan
                                tareas repetitivas y escalan tu negocio sin intervenci√≥n humana.</p>
                            <div class="service-tags">
                                <span class="service-tag">CrewAI</span>
                                <span class="service-tag">LangGraph</span>
                                <span class="service-tag">FastAPI</span>
                            </div>
                        </div>
                    </div>
                    <div class="services-controls">
                        <div class="services-dots">
                            <button class="service-dot active" data-slide="0"><span></span></button>
                            <button class="service-dot" data-slide="1"><span></span></button>
                            <button class="service-dot" data-slide="2"><span></span></button>
                        </div>
                        <div class="services-progress">
                            <div class="services-progress-bar" id="servicesProgress"></div>
                        </div>
                    </div>
                </div>
                <!-- Right: GIF Visual -->
                <div class="services-visual">
                    <div class="services-visual-inner">
                        <div class="service-gif active" data-index="0">
                            <div class="gif-placeholder">
                                <span class="gif-placeholder-icon">üéôÔ∏è</span>
                                <span class="gif-placeholder-text">Agentes de Voz</span>
                            </div>
                        </div>
                        <div class="service-gif" data-index="1">
                            <div class="gif-placeholder">
                                <span class="gif-placeholder-icon">üí¨</span>
                                <span class="gif-placeholder-text">Chatbots</span>
                            </div>
                        </div>
                        <div class="service-gif" data-index="2">
                            <div class="gif-placeholder">
                                <span class="gif-placeholder-icon">‚ö°</span>
                                <span class="gif-placeholder-text">Sistemas Inteligentes</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <hr class="divider">

    <!-- Stats -->
    <section class="section" style="padding: 0;">
        <div class="container">
            <div class="stats-grid reveal">
                <div class="stat">
                    <span class="stat-value">+30</span>
                    <span class="stat-label">Agentes de IA<br>desplegados en producci√≥n</span>
                </div>
                <div class="stat">
                    <span class="stat-value">+5</span>
                    <span class="stat-label">A√±os de experiencia<br>en desarrollo</span>
                </div>
                <div class="stat">
                    <span class="stat-value">98%</span>
                    <span class="stat-label">Tasa de satisfacci√≥n<br>de clientes</span>
                </div>
                <div class="stat">
                    <span class="stat-value">24/7</span>
                    <span class="stat-label">Agentes operando<br>de forma aut√≥noma</span>
                </div>
            </div>
        </div>
    </section>

    <!-- Infrastructure -->
    <section class="section">
        <div class="container">
            <div class="section-header reveal">
                <span class="section-tag">Infraestructura</span>
                <h2 class="section-title">Stack de Agentes de IA</h2>
                <p class="section-subtitle">Cada componente dise√±ado para m√°xima precisi√≥n, escalabilidad y autonom√≠a en
                    producci√≥n.</p>
            </div>
            <div class="feature-grid reveal">
                <div class="feature-item">
                    <span class="feature-icon">‚ö°</span>
                    <h3>Orquestaci√≥n</h3>
                    <p>Arquitecturas multi-agente con LangGraph y CrewAI para flujos de trabajo complejos.</p>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üîç</span>
                    <h3>RAG Avanzado</h3>
                    <p>Sistemas de recuperaci√≥n con embeddings, re-ranking y bases vectoriales optimizadas.</p>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üõ°Ô∏è</span>
                    <h3>Producci√≥n</h3>
                    <p>Despliegue robusto con monitorizaci√≥n, logging y circuit breakers autom√°ticos.</p>
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üéØ</span>
                    <h3>Precisi√≥n</h3>
                    <p>Prompt engineering avanzado y evaluaci√≥n sistem√°tica para m√°xima fiabilidad.</p>
                </div>
            </div>
        </div>
    </section>

    <hr class="divider">

    <!-- Featured Projects -->
    <section class="section">
        <div class="container">
            <div class="section-header reveal">
                <span class="section-tag">Portfolio</span>
                <h2 class="section-title">Proyectos Destacados</h2>
                <p class="section-subtitle">Soluciones de agentes de IA que generan impacto real.</p>
            </div>
            <div class="projects-grid reveal">
                <div class="project-card">
                    <span class="project-number">01</span>
                    <h3>Asistente Legal Inteligente</h3>
                    <p>Sistema RAG que analiza +10.000 documentos legales, reduciendo un 70% el tiempo de consulta.</p>
                    <div class="project-tags">
                        <span class="tag">LangChain</span>
                        <span class="tag">OpenAI</span>
                        <span class="tag">Pinecone</span>
                    </div>
                    <a href="proyectos.html" class="project-link">Ver detalles ‚Üí</a>
                </div>
                <div class="project-card">
                    <span class="project-number">02</span>
                    <h3>Multi-Agente de Soporte</h3>
                    <p>Plataforma que gestiona +500 tickets diarios con 92% de resoluci√≥n autom√°tica.</p>
                    <div class="project-tags">
                        <span class="tag">CrewAI</span>
                        <span class="tag">FastAPI</span>
                        <span class="tag">PostgreSQL</span>
                    </div>
                    <a href="proyectos.html" class="project-link">Ver detalles ‚Üí</a>
                </div>
            </div>
        </div>
    </section>

    <!-- CTA -->
    <section class="cta-section">
        <div class="container reveal">
            <h2>Inteligencia<br>Artificial.</h2>
            <p>Explora c√≥mo los agentes aut√≥nomos pueden transformar tu negocio.</p>
            <a href="contacto.html" class="btn btn-outline">Contactar ‚Üí</a>
        </div>
    </section>

    <footer class="footer">
        <div class="container footer-content">
            <p>¬© 2026 √Ålvaro Iglesias</p>
            <div class="footer-links">
                <a href="https://github.com" target="_blank">GitHub</a>
                <a href="https://linkedin.com" target="_blank">LinkedIn</a>
                <a href="https://twitter.com" target="_blank">Twitter</a>
            </div>
        </div>
    </footer>

    <!-- Floating CTA Button -->
    <button class="floating-cta" id="floatingCta"
        onclick="document.getElementById('contactModal').classList.add('open')">
        <span class="cta-pulse"></span> Ll√°mame
    </button>

    <!-- Contact Modal -->
    <div class="contact-modal-overlay" id="contactModal" onclick="if(event.target===this)this.classList.remove('open')">
        <div class="contact-modal">
            <button class="contact-modal-close"
                onclick="document.getElementById('contactModal').classList.remove('open')">‚úï</button>
            <h3>Te llamamos</h3>
            <p class="modal-subtitle">D√©janos tus datos y nuestro agente de IA te llamar√° al instante.</p>
            <form id="callForm">
                <div class="form-group">
                    <label for="modal-name">Nombre</label>
                    <input type="text" id="modal-name" placeholder="Tu nombre" required>
                </div>
                <div class="form-group">
                    <label for="modal-email">Email</label>
                    <input type="email" id="modal-email" placeholder="tu@email.com" required>
                </div>
                <div class="form-group">
                    <label for="modal-phone">Tel√©fono</label>
                    <input type="tel" id="modal-phone" placeholder="+34 612 345 678" required>
                </div>
                <div class="cf-turnstile" data-sitekey="0x4AAAAAACdzIyoSlxr08Dfa" data-theme="auto"></div>
                <button type="submit" class="btn btn-primary" id="callBtn">üìû Ll√°mame</button>
                <p id="callStatus" style="text-align:center;margin-top:12px;font-size:0.85rem;display:none;"></p>
            </form>
        </div>
    </div>


    <style>
        .glitch-word {
            display: inline-block;
            font-family: 'Space Grotesk', monospace;
            position: relative;
        }

        .glitch-word.glitching {
            animation: glitchShake 0.08s linear infinite;
        }

        @keyframes glitchShake {
            0% {
                transform: translate(0);
            }

            25% {
                transform: translate(1px, -1px);
            }

            50% {
                transform: translate(-1px, 1px);
            }

            75% {
                transform: translate(1px, 0);
            }

            100% {
                transform: translate(0);
            }
        }
    </style>

    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        const html = document.documentElement;

        // Check for saved theme preference or default to 'light'
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', currentTheme);

        themeToggle.addEventListener('click', () => {
            const theme = html.getAttribute('data-theme') === 'light' ? 'dark' : 'light';
            html.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
        });

        document.getElementById('navToggle').addEventListener('click', () => document.getElementById('navLinks').classList.toggle('open'));
        window.addEventListener('scroll', () => document.getElementById('navbar').classList.toggle('scrolled', window.scrollY > 50));
        const obs = new IntersectionObserver(entries => entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); }), { threshold: 0.1 });
        document.querySelectorAll('.reveal').forEach(el => obs.observe(el));

        // ‚îÄ‚îÄ Hero Canvas Animation ‚îÄ‚îÄ
        (function () {
            const canvas = document.getElementById('heroCanvas');
            if (!canvas) return;
            const ctx = canvas.getContext('2d');
            let w, h, nodes = [];
            const NODE_COUNT = 60;
            const MAX_DIST = 160;

            function resize() {
                const dpr = window.devicePixelRatio || 1;
                const rect = canvas.parentElement.getBoundingClientRect();
                w = rect.width;
                h = rect.height;
                canvas.width = w * dpr;
                canvas.height = h * dpr;
                canvas.style.width = w + 'px';
                canvas.style.height = h + 'px';
                ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
            }

            function createNodes() {
                nodes = [];
                for (let i = 0; i < NODE_COUNT; i++) {
                    nodes.push({
                        x: Math.random() * w,
                        y: Math.random() * h,
                        vx: (Math.random() - 0.5) * 0.4,
                        vy: (Math.random() - 0.5) * 0.4,
                        r: Math.random() * 2 + 1
                    });
                }
            }

            function draw() {
                ctx.clearRect(0, 0, w, h);
                const isDark = document.documentElement.getAttribute('data-theme') === 'dark';

                // Move nodes
                for (const n of nodes) {
                    n.x += n.vx;
                    n.y += n.vy;
                    if (n.x < 0 || n.x > w) n.vx *= -1;
                    if (n.y < 0 || n.y > h) n.vy *= -1;
                }

                // Draw connecting lines
                for (let i = 0; i < nodes.length; i++) {
                    for (let j = i + 1; j < nodes.length; j++) {
                        const dx = nodes[i].x - nodes[j].x;
                        const dy = nodes[i].y - nodes[j].y;
                        const dist = Math.sqrt(dx * dx + dy * dy);
                        if (dist < MAX_DIST) {
                            const alpha = (1 - dist / MAX_DIST) * (isDark ? 0.25 : 0.12);
                            ctx.strokeStyle = isDark
                                ? `rgba(79, 143, 247, ${alpha})`
                                : `rgba(37, 99, 235, ${alpha})`;
                            ctx.lineWidth = 0.8;
                            ctx.beginPath();
                            ctx.moveTo(nodes[i].x, nodes[i].y);
                            ctx.lineTo(nodes[j].x, nodes[j].y);
                            ctx.stroke();
                        }
                    }
                }

                // Draw nodes
                for (const n of nodes) {
                    const alpha = isDark ? 0.5 : 0.25;
                    ctx.fillStyle = isDark
                        ? `rgba(79, 143, 247, ${alpha})`
                        : `rgba(37, 99, 235, ${alpha})`;
                    ctx.beginPath();
                    ctx.arc(n.x, n.y, n.r, 0, Math.PI * 2);
                    ctx.fill();
                }

                requestAnimationFrame(draw);
            }

            resize();
            createNodes();
            draw();
            window.addEventListener('resize', () => { resize(); createNodes(); });
        })();

        // Shared glitch scramble function
        const chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789@#$%&*!?<>{}[]';
        function scramble(el, wordList, indexRef) {
            const from = wordList[indexRef.i];
            indexRef.i = (indexRef.i + 1) % wordList.length;
            const to = wordList[indexRef.i];
            const maxLen = Math.max(from.length, to.length);
            const padded = to.padEnd(maxLen);
            let resolved = new Array(maxLen).fill(false);
            let display = from.split('');
            let ticks = 0;
            el.classList.add('glitching');
            const iv = setInterval(() => {
                ticks++;
                for (let i = 0; i < maxLen; i++) {
                    if (!resolved[i]) {
                        if (ticks > 2 + i) {
                            resolved[i] = true;
                            display[i] = padded[i];
                        } else {
                            display[i] = chars[Math.floor(Math.random() * chars.length)];
                        }
                    }
                }
                el.textContent = display.join('').trimEnd();
                if (resolved.every(Boolean)) {
                    clearInterval(iv);
                    el.classList.remove('glitching');
                    el.textContent = to;
                }
            }, 50);
        }

        // Both transition at the same time
        const ref1 = { i: 0 };
        const ref2 = { i: 0 };
        const ref3 = { i: 0 };
        setInterval(() => {
            scramble(document.getElementById('glitchWord1'), ['tiempo', 'dinero'], ref1);
            scramble(document.getElementById('glitchWord2'), ['agentes', 'sistemas'], ref2);
            scramble(document.getElementById('glitchWord3'), ['trabajar√°n', 'vender√°n', 'resolver√°n'], ref3);
        }, 3000);

        // GSAP Services Carousel
        (function () {
            const section = document.getElementById('servicesCarousel');
            const slides = section.querySelectorAll('.service-slide');
            const gifs = section.querySelectorAll('.service-gif');
            const dots = section.querySelectorAll('.service-dot');
            const progressBar = document.getElementById('servicesProgress');
            let current = 0;
            const total = slides.length;
            const duration = 6;

            function getSlideElements(slide) {
                return slide.querySelectorAll('.service-number, .service-icon, .service-title, .service-desc, .service-tags');
            }

            function goToSlide(next) {
                if (next === current) return;
                const outSlide = slides[current];
                const inSlide = slides[next];
                const outGif = gifs[current];
                const inGif = gifs[next];

                const tl = gsap.timeline();

                // Animate out text
                tl.to(getSlideElements(outSlide), {
                    y: -30, opacity: 0, stagger: 0.04, duration: 0.35, ease: 'power2.in'
                });

                // Animate out GIF
                tl.to(outGif, {
                    opacity: 0, scale: 0.92, duration: 0.4, ease: 'power2.in'
                }, '<0.1');

                // Swap active classes
                tl.call(() => {
                    outSlide.classList.remove('active');
                    inSlide.classList.add('active');
                    outGif.classList.remove('active');
                    inGif.classList.add('active');
                });

                // Prep incoming elements
                tl.set(getSlideElements(inSlide), { y: 50, opacity: 0 });
                tl.set(inGif, { opacity: 0, scale: 1.06 });

                // Animate in GIF
                tl.to(inGif, {
                    opacity: 1, scale: 1, duration: 0.6, ease: 'power3.out'
                });

                // Animate in text
                tl.to(getSlideElements(inSlide), {
                    y: 0, opacity: 1, stagger: 0.07, duration: 0.55, ease: 'power3.out'
                }, '<0.1');

                // Update dots
                dots.forEach(d => d.classList.remove('active'));
                dots[next].classList.add('active');

                current = next;
                resetProgress();
            }

            function resetProgress() {
                gsap.killTweensOf(progressBar);
                gsap.fromTo(progressBar, { scaleX: 0 }, {
                    scaleX: 1, duration: duration, ease: 'none',
                    onComplete: () => goToSlide((current + 1) % total)
                });
            }

            dots.forEach(dot => {
                dot.addEventListener('click', () => {
                    const idx = parseInt(dot.dataset.slide);
                    if (idx !== current) goToSlide(idx);
                });
            });

            // Init first slide
            gsap.set(getSlideElements(slides[0]), { y: 0, opacity: 1 });
            gsap.set(gifs[0], { opacity: 1, scale: 1 });
            resetProgress();
        })();

        // ElevenLabs Outbound Call handler
        document.getElementById('callForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = document.getElementById('callBtn');
            const status = document.getElementById('callStatus');
            const phone = document.getElementById('modal-phone').value.trim();

            // Turnstile validation
            const turnstileResponse = e.target.querySelector('[name="cf-turnstile-response"]');
            if (!turnstileResponse || !turnstileResponse.value) {
                status.textContent = '‚ö†Ô∏è Por favor, completa la verificaci√≥n de seguridad.';
                status.style.color = '#f59e0b';
                status.style.display = 'block';
                return;
            }

            btn.disabled = true;
            btn.textContent = '‚è≥ Llamando...';
            status.style.display = 'none';

            try {
                const res = await fetch('https://66ddwwgrhvx2bwlrzv266w2xl40smloe.lambda-url.eu-central-1.on.aws/', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        phone: phone
                    })
                });

                if (res.ok) {
                    status.textContent = '‚úÖ ¬°Llamada iniciada! Recibir√°s la llamada en segundos.';
                    status.style.color = '#4ade80';
                    status.style.display = 'block';
                    btn.textContent = '‚úÖ Llamada enviada';
                    setTimeout(() => {
                        document.getElementById('contactModal').classList.remove('open');
                        e.target.reset();
                        btn.disabled = false;
                        btn.textContent = 'üìû Ll√°mame';
                        status.style.display = 'none';
                    }, 3000);
                } else {
                    throw new Error('Error ' + res.status);
                }
            } catch (err) {
                status.textContent = '‚ùå Error al iniciar la llamada. Int√©ntalo de nuevo.';
                status.style.color = '#f87171';
                status.style.display = 'block';
                btn.disabled = false;
                btn.textContent = 'üìû Ll√°mame';
            }
        });
    </script>
</body>

</html>